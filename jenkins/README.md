Настройки для pipeline Jenkins:

1. Управление исходным кодом - git
Указываем свой git репозиторий и credentials от него.

2. Branch Specifier (blank for 'any') - main
Ветка для отслеживания Jenkins.

3. Триггеры сборки - Опрашивать SCM об изменениях - * * * * *
Отслеживать новые изменения в указанном репозитории и автоматически запускать сборку.

4. Шаги сборки: код указан в файле step.sh
где 
    master - имя узла мастер ноды kubernetes
    deminart/diplom-sf - созданный образ в docker hub 

Необходимо проверить что пользователь jenkins имеет все необходимые права для запуска команд git и docker, а также вход по ssh на master